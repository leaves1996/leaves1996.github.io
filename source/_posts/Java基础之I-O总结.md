---
title: Java基础之I/O总结
copyright: true
comments: true
date: 2019-08-20 10:53:33
tags:
 - Java基础
 - 面试题
 - JavaSE
categories: Java基础
description: 本文主要概述Java基础中I/O相关知识点总结。
password:
sticky:
---
# I/O流引入

&emsp;&emsp;之前学习过将数据保存到变量中，集合等内存区域，但是这样存在一个弊端，就是程序一旦结束，数据就会立刻消失，无法做到数据的持久化存储。
 * 如何做到数据的持久化呢？
    将数据从内存写入文件系统做到持久化。
 * 如何将数据写入呢？
    Java提供了IO流（输入输出流）。
&emsp;&emsp;流：观察生活中的水流、物流等，描述一下数据流的概念。

# I/O流概述

&emsp;&emsp;在程序中所有的数据都是以流的方式进行传输或保存的，程序通过输入流读取数据；当程序需要将一些数据长期保存起来的时候使用输出流完成。

&emsp;&emsp;站在内存的角度看待方向, 数据从其他设备进入内存, 这就是输入; 数据从内存进入其他设备,这就是输出,如下图：
![IO概述.png](IO概述.png)

 例如：本地文件拷贝，上传文件和下载文件等等。
 * 注意：
    1、但凡是对数据的操作，Java都是通过流的方式来操作的。
    2、程序中的输入输出都是以流的形式保存的，流中保存的实际上全都是字节文件。
    3、IO流可以做到数据的持久化，但是IO流本质上是用来处理本地文件系统以及不同设备之间的数据传输。

# IO流分类
 * 按照数据流向
  * 输入流：从外界(键盘、网络、文件…)读取数据到内存
  * 输出流：用于将程序中的数据写出到外界(显示器、文件…）
  * 数据源 目的地 交通工具

 * 按照数据类型
  * 字节流：主要用来处理字节或二进制对象。
	* 字节输入流（InputStream）
	* 字节输出流 （OutputStream）
  * 字符流：主要用来处理字符、字符数组或字符串。
	* 字符输入流（Reader）
	* 字符输出流（Writer）

# 字节流和字符流的区别：

 * 读写单位不同：字节流以字节（8bit）为单位，字符流以字符为单位，根据码表映射字符，一次可能读多个字节。
 * 处理对象不同：字节流能处理所有类型的数据（如图片、avi等），而字符流只能处理字符类型的数据。
 * 选取：只要是处理纯文本数据，就优先考虑使用字符流，除此之外都使用字节流。

# IO流体系结构图

![IO整体架构.png](IO整体架构.png)

# 字节流

## 字节流的概述

 * 1.可以直接操作字节数据的流对象
 * 2.根据流向:可以分为字节输入流和字节输出流
 * 3.顶层抽象父类: InputStream和OutputStream
 * 4.根据交互的设备和数据不同: 有不同的子类

## InputStream

 * 1.InputStream是所有字节输入流顶层父类, 且InputStream是一个抽象类;
 * 2.常用方法:
 ```xml
 read(): 从当前流对象中读取一个字节返回. 返回内容就是读取字节
 read(byte[] b): 从当前流对象中一次读取多个字节存储到b数据中, 返回值表示读入b数组中字节个数.
 close(): 关闭流对象
 ```
 * 3.InputStream是一个抽象类,不能创建对象,只能有子类创建对象.

### FileInputStream

 1.FileInputStream是InputSream一个子类, 用于和电脑磁盘上文件进行数据交互;
 2.FileInputStream: 不仅可以一次读取一个字节,也可以一次读取多个字节; 不仅可以读取纯文本文件,还可以读取图片,视频,音频(流媒体)等非纯文本文件.原因一切数据在计算机中都是以字节的形式存储的.  
 3.FileInputStream的构造方法:
  * FileInputSream(File f): 将File对象封装成字节输入流对象, 就可以使用这个字节输入流对象读取File表示文件的内容;
  * FileInputStream(String path):将path代表文件路径封装成一个字节输入流对象,就可以使用这个字节输入流对象读取path表示文件路径下文件的内容;
 * 注意事项: 无论哪个构造方法,都只能封装文件的路径,封装文件夹的路径没有任何意义,因为文件夹中本身没有任何数据,所以不能使用该流读取文件夹.
 4.常用方法:
  * read(): 一次读取一个字节,返回值是int类型,原因在读取这个字节信息后,会在这byte数字前加24个零, 无论读取的是正数还是负数都最转为正数.只要从文件中读取数据,都是正数.如果该方法返回-1,就意味读取到了文件的末尾,-1就是读取到文件默认的标志. 虽然每次都是这个方法,但是每次返回的内容去不会相同,因为文件的指针会不断向后移动.
  * read(byte[] b): 一次读取多个字节,存储到字节数组中,返回值也是int,表示读入到数组中字节个数.

